<!DOCTYPE html>
<html>
    <head>
        <title>028 Web Worker</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <ol id="log"></ol>
        <script type="text/javascript" src="assertion.js"></script>
        <script type="text/javascript" src="prettyprinter.js"></script>
        <div id="worker"></div>
        <script type="text/javascript" id="demo">
            // note: chrome doesn't work with local file workers
            var myWorker = new Worker("./webworker.js");
            myWorker.postMessage("start");

            myWorker.addEventListener("message", function(event) {
                Logger.log("log", "webworker", event.data);
            });

            Logger.end("log");
            PrettyPrint.displayScriptFromUrl("webworker.js",
                document.getElementById("worker"))
            PrettyPrint.displayScriptById("demo");
        </script>

    </body>
</html>
